---
title: Accessing Application Log Data
last_reviewed_on: 2019-12-09
review_in: 3 months
---

# <%= current_page.data.title %>


### Overview

This document is intended to assist engineers in accessing application and system logs stored in a centralized Elasticsearch cluster.

### Accessing Kibana

The Cloud Platform collects, indexes and presents your application and system log data enabling you to query using Kibanaâ€™s standard query language (based on Lucene query syntax).

To access Kibana, follow the appropriate link below and authenticate with your GitHub credentials:

#### Live-1 Cluster
[https://kibana.cloud-platform.service.justice.gov.uk/_plugin/kibana](https://kibana.cloud-platform.service.justice.gov.uk/_plugin/kibana)

### Using Kibana

As a quick example, we will filter down to the logs of a particular environment.

1) On the Kibana dashboard, select the 'Discover' tab.

2) Select 'Add a filter +'

3) Filter `kubernetes.namespace_name`, with operator `is` and the value equal to your environment name.

The log entries will contain any data output (STDOUT/STDERR) by the running pods.

### Accessing Ingress logs

A special case is the Nginx Ingress which serves as reverse proxy for all the other applications in the cluster. Its logs originate in the `ingress-controllers` namespace and are indexed separately. To search:

1) Same Kibana 'Discover' tab, change the index pattern to 'index-json*' in the drop-down on the left

2) Filter using the prefix `nginx-ingress`, the full list of indexed fields is defined in [terraform](https://github.com/ministryofjustice/cloud-platform-infrastructure/blob/fa2b9f37edc8239ade9d5e02f0c8e4953a9ae21e/terraform/cloud-platform-components/nginx-ingress-acme.tf#L51)

### Accessing namespace events

Messages generated by events not part of the applications themselves (deployment misconfiguration, pods failing on startup due to lack of resources, actions forbidden by security restrictions) are trapped by a shared `Eventrouter` which annotates and stores them in the `logging` namespace. To debug such events:

1) Same Kibana 'Discover' tab, index pattern 'logstash*'

2) Search for `kubernetes.namespace_name:"logging" AND kubernetes.labels.app:"eventrouter"`

3) Filter by additional strings in the `log` field


More in-depth guides on using Kibana can be found below:

[https://www.elastic.co/guide/en/kibana/6.3/search.html](https://www.elastic.co/guide/en/kibana/6.3/search.html)

[https://www.elastic.co/guide/en/beats/packetbeat/current/kibana-queries-filters.html](https://www.elastic.co/guide/en/beats/packetbeat/current/kibana-queries-filters.html)